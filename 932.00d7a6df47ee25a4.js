"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[932],{6666:(I,m,l)=>{l.r(m),l.d(m,{LoginComponent:()=>A});var _=l(6814),r=l(95),u=l(1120),n=l(4769),p=l(2527);function d(o,a){if(1&o&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.hij(" ",t.apierror," ")}}function f(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1,"email is required"),n.qZA())}function c(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1,"Enter valid Email"),n.qZA())}function h(o,a){if(1&o&&(n.TgZ(0,"div",15),n.YNc(1,f,2,0,"p",12),n.YNc(2,c,2,0,"p",12),n.qZA()),2&o){const t=n.oxw();let e,i;n.xp6(1),n.Q6J("ngIf",null==(e=t.loginForm.get("email"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(i=t.loginForm.get("email"))||null==i.errors?null:i.errors.email)}}function Z(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1,"password is required"),n.qZA())}function v(o,a){if(1&o&&(n.TgZ(0,"div",15),n.YNc(1,Z,2,0,"p",12),n.qZA()),2&o){const t=n.oxw();let e;n.xp6(1),n.Q6J("ngIf",null==(e=t.loginForm.get("password"))||null==e.errors?null:e.errors.required)}}function T(o,a){1&o&&(n.TgZ(0,"span"),n._uU(1," Login "),n.qZA())}function C(o,a){1&o&&n._UZ(0,"i",16)}const L=function(){return["/forgetpassword"]};let A=(()=>{class o{constructor(t,e,i){this._Auth=t,this._router=e,this._FormBuilder=i,this.isloading=!1,this.apierror="",this.loginForm=this._FormBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.pattern(/^[A-Z][a-z]{6,20}$/)]]})}login(t){this.isloading=!0,t.valid&&this._Auth.Login(t.value).subscribe({next:e=>{console.log(e),"success"===e.message&&(localStorage.setItem("userToken",e.token),this._router.navigate(["/home"]),this.isloading=!1)},error:e=>{console.log(e),this.isloading=!1,this.apierror=e.error.message}})}static#n=this.\u0275fac=function(e){return new(e||o)(n.Y36(p.e),n.Y36(u.F0),n.Y36(r.qu))};static#o=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:21,vars:9,consts:[[1,"mt-4","w-75","mx-auto","shadow-sm","p-4","bg-light"],[1,"text-center","fw-bold"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"my-4"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["class","alert alert-danger p-1 mt-2",4,"ngIf"],["for","pass"],["formControlName","password","type","password","id","pass",1,"form-control"],["routerLinkActive","['bg-main','text-white']",1,"fw-bold",3,"routerLink"],[1,"btn","bg-main","text-white","d-block","ms-auto","mt-4",3,"disabled"],[4,"ngIf"],["class","fa fa-spin fa-spinner",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-danger","p-1","mt-2"],[1,"fa","fa-spin","fa-spinner"]],template:function(e,i){if(1&e&&(n.TgZ(0,"section",0)(1,"h1",1),n._uU(2,"Login Now"),n.qZA(),n.YNc(3,d,2,1,"div",2),n.TgZ(4,"form",3),n.NdJ("ngSubmit",function(){return i.login(i.loginForm)}),n.TgZ(5,"div",4)(6,"label",5),n._uU(7,"email:"),n.qZA(),n._UZ(8,"input",6),n.YNc(9,h,3,2,"div",7),n.qZA(),n.TgZ(10,"div",4)(11,"label",8),n._uU(12,"Password:"),n.qZA(),n._UZ(13,"input",9),n.YNc(14,v,2,1,"div",7),n.qZA(),n.TgZ(15,"div")(16,"a",10),n._uU(17,"forget Your Password?"),n.qZA(),n.TgZ(18,"button",11),n.YNc(19,T,2,0,"span",12),n.YNc(20,C,1,0,"i",13),n.qZA()()()()),2&e){let s,g;n.xp6(3),n.Q6J("ngIf",i.apierror),n.xp6(1),n.Q6J("formGroup",i.loginForm),n.xp6(5),n.Q6J("ngIf",(null==(s=i.loginForm.get("email"))?null:s.errors)&&(null==(s=i.loginForm.get("email"))?null:s.touched)),n.xp6(5),n.Q6J("ngIf",(null==(g=i.loginForm.get("password"))?null:g.errors)&&(null==(g=i.loginForm.get("password"))?null:g.touched)),n.xp6(2),n.Q6J("routerLink",n.DdM(8,L)),n.xp6(2),n.Q6J("disabled",i.loginForm.invalid),n.xp6(1),n.Q6J("ngIf",!i.isloading),n.xp6(1),n.Q6J("ngIf",i.isloading)}},dependencies:[_.ez,_.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,u.rH,u.Od]})}return o})()}}]);