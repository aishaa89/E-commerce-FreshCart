"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[84],{84:(q,u,o)=>{o.r(u),o.d(u,{ShippingAddressComponent:()=>S});var _=o(6814),s=o(95),e=o(4769),g=o(6072),m=o(1120);function c(n,p){1&n&&(e.TgZ(0,"p"),e._uU(1,"detailes is required"),e.qZA())}function h(n,p){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,c,2,0,"p",11),e.qZA()),2&n){const r=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=r.shippingAddressForm.get("detail"))||null==i.errors?null:i.errors.required)}}function f(n,p){1&n&&(e.TgZ(0,"p"),e._uU(1,"phone is required"),e.qZA())}function A(n,p){1&n&&(e.TgZ(0,"p"),e._uU(1," Invalid phone"),e.qZA())}function Z(n,p){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,f,2,0,"p",11),e.YNc(2,A,2,0,"p",11),e.qZA()),2&n){const r=e.oxw();let i,t;e.xp6(1),e.Q6J("ngIf",null==(i=r.shippingAddressForm.get("phone"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=r.shippingAddressForm.get("phone"))||null==t.errors?null:t.errors.pattern)}}function v(n,p){1&n&&(e.TgZ(0,"p"),e._uU(1,"City is required"),e.qZA())}function I(n,p){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,v,2,0,"p",11),e.qZA()),2&n){const r=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=r.shippingAddressForm.get("city"))||null==i.errors?null:i.errors.required)}}function T(n,p){1&n&&(e.TgZ(0,"span"),e._uU(1," Pay "),e.qZA())}function C(n,p){1&n&&e._UZ(0,"i",14)}let S=(()=>{class n{constructor(r,i){this._PaymentService=r,this._ActivatedRoute=i,this.isloading=!1,this.cartId="",this.shippingAddressForm=new s.cw({detail:new s.NI(null,s.kI.required),phone:new s.NI(null,[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}$/)]),city:new s.NI(null,s.kI.required)})}shippingAdressSubmit(r){this.isloading=!0,this._ActivatedRoute.params.subscribe(i=>{this.cartId=i.cartId}),console.log(this.cartId),this._PaymentService.checkOut(this.cartId,r.value).subscribe({next:i=>{window.location.href=i.session.url,this.isloading=!1,console.log(i)},error:i=>{this.isloading=!1,console.log(i)}})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(g.t),e.Y36(m.gz))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-shipping-address"]],standalone:!0,features:[e.jDz],decls:23,vars:7,consts:[[1,"mt-4","w-75","mx-auto","rounded","shadow-sm","p-4","bg-light"],[3,"formGroup","ngSubmit"],[1,"my-4"],["for","datail"],["formControlName","detail","type","text","id","datail",1,"form-control"],["class","alert alert-danger p-1 mt-2",4,"ngIf"],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],["for","city"],["formControlName","city","type","text","id","city",1,"form-control"],[1,"btn","bg-main","text-white","d-block","ms-auto","mt-4",3,"disabled"],[4,"ngIf"],["class","fa fa-spin fa-spinner",4,"ngIf"],[1,"alert","alert-danger","p-1","mt-2"],[1,"fa","fa-spin","fa-spinner"]],template:function(i,t){if(1&i&&(e.TgZ(0,"section")(1,"div",0)(2,"h1"),e._uU(3,"Check-Out"),e.qZA(),e.TgZ(4,"form",1),e.NdJ("ngSubmit",function(){return t.shippingAdressSubmit(t.shippingAddressForm)}),e.TgZ(5,"div",2)(6,"label",3),e._uU(7,"Detailes:"),e.qZA(),e._UZ(8,"input",4),e.YNc(9,h,2,1,"div",5),e.qZA(),e.TgZ(10,"div",2)(11,"label",6),e._uU(12,"phone:"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,Z,3,2,"div",5),e.qZA(),e.TgZ(15,"div",2)(16,"label",8),e._uU(17,"City"),e.qZA(),e._UZ(18,"input",9),e.YNc(19,I,2,1,"div",5),e.qZA(),e.TgZ(20,"button",10),e.YNc(21,T,2,0,"span",11),e.YNc(22,C,1,0,"i",12),e.qZA()()()()),2&i){let l,d,a;e.xp6(4),e.Q6J("formGroup",t.shippingAddressForm),e.xp6(5),e.Q6J("ngIf",(null==(l=t.shippingAddressForm.get("detail"))?null:l.errors)&&(null==(l=t.shippingAddressForm.get("detail"))?null:l.touched)),e.xp6(5),e.Q6J("ngIf",(null==(d=t.shippingAddressForm.get("phone"))?null:d.errors)&&(null==(d=t.shippingAddressForm.get("phone"))?null:d.touched)),e.xp6(5),e.Q6J("ngIf",(null==(a=t.shippingAddressForm.get("city"))?null:a.errors)&&(null==(a=t.shippingAddressForm.get("city"))?null:a.touched)),e.xp6(1),e.Q6J("disabled",t.shippingAddressForm.invalid),e.xp6(1),e.Q6J("ngIf",!t.isloading),e.xp6(1),e.Q6J("ngIf",t.isloading)}},dependencies:[_.ez,_.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return n})()}}]);